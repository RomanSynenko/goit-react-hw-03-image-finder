{"version":3,"sources":["Components/ImageGalleryItem/ImageGallery.module.scss","Components/ModalWindow/Modal.module.scss","Components/ImageGallery/Gallery.module.scss","Components/LoadButtom/Button.module.scss","Components/Loader/Loader.module.scss","Components/SearchBar/SearchBar.js","image/defaultImage.jpeg","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Servises/api.js","Components/LoadButtom/LoadButton.js","Components/Loader/Loader.js","Components/ModalWindow/ModalWindow.js","Components/App.js","index.js","Components/SearchBar/SearchBar.module.scss"],"names":["module","exports","SearchBar","state","search","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmitForm","className","s","Searchbar","SearchForm","onSubmit","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","onOpenModal","src","data-src","alt","ImageGalleryItem_image","onClick","defaultProps","defaultImg","tag","ImageGallery","images","map","id","axios","defaults","url","page","pageSize","get","then","response","data","hits","catch","LoadButton","loadMore","Button","prototype","PropTypes","func","isRequired","App","Loader","color","height","width","modalRoot","document","querySelector","ModalWindow","handleKeyDown","code","onCloseModal","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","Modal","largeImg","img","isLoader","error","showButtonLoader","showModal","searchImages","option","fetchApi","prevState","windowsScroll","finally","onSearchChange","quary","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","a","dataset","_","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.80170b40.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1bKjf\",\"ImageGalleryItem_image\":\"ImageGallery_ImageGalleryItem_image__NOchK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__GdBBv\",\"Modal\":\"Modal_Modal__3oRzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"Gallery_ImageGallery__1GLsA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__Y_zoh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__BIuQd\"};","import React, { Component } from 'react';\n\nimport s from './SearchBar.module.scss';\n\nclass SearchBar extends Component {\n    state = {\n        search: '',\n    };\n    handleChange = e => {\n        this.setState({ search: e.currentTarget.value });\n    };\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmitForm(this.state.search);\n        this.setState({ search: '' });\n    };\n    render() {\n        return (\n            <header className={s.Searchbar}>\n                <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className={s.SearchForm_button}>\n                        <span className={s.SearchForm_button_label}>Search</span>\n                    </button>\n                    <input\n                        className={s.SearchForm_input}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        value={this.state.search}\n                        onChange={this.handleChange}\n                    />\n                </form>\n            </header>)\n    };\n}\nexport default SearchBar;","export default __webpack_public_path__ + \"static/media/defaultImage.a234994d.jpeg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGallery.module.scss';\n\nimport defaultImg from '../../image/defaultImage.jpeg';\n\nconst ImageGalleryItem = ({ webformatURL, tags, largeImageURL, onOpenModal }) => {\n    return (\n        <li className={s.ImageGalleryItem} >\n            <img\n                src={webformatURL}\n                data-src={largeImageURL}\n                alt={tags}\n                className={s.ImageGalleryItem_image}\n                onClick={onOpenModal} />\n        </li >\n    )\n}\nImageGalleryItem.defaultProps = {\n    webformatURL: defaultImg,\n    tag: 'img',\n};\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    onOpenModal: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nimport s from './Gallery.module.scss';\n\nconst ImageGallery = ({ images, onOpenModal }) => {\n    return (\n        <ul className={s.ImageGallery} >\n            {\n                images.map(({ id, webformatURL, largeImageURL, tags }) => (\n                    <ImageGalleryItem\n                        key={id}\n                        webformatURL={webformatURL}\n                        tags={tags}\n                        largeImageURL={largeImageURL}\n                        onOpenModal={onOpenModal}\n                    />\n                ))\n            }\n        </ul>\n    )\n}\nImageGallery.propTypes = {\n    images: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            webformatURL: PropTypes.string.isRequired,\n            largeImageURL: PropTypes.string.isRequired,\n            tags: PropTypes.string.isRequired,\n        }),\n    ),\n    onOpenModal: PropTypes.func.isRequired,\n};\nexport default ImageGallery;","import axios from 'axios';\n\nconst API_KEY = '20020370-9a83858931624ea8d777f9f7a';\naxios.defaults.url = 'https://pixabay.com/api';\n\nconst fetchImage = ({ search = '', page = 1, pageSize = 12 }) => {\n    return axios\n        .get(\n            `${axios.defaults.url}/?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`)\n        .then(response => response.data.hits)\n        .catch(() => []);\n};\nexport default { fetchImage };","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.scss';\n\nconst LoadButton = ({ loadMore }) => {\n    return (\n        <button className={s.Button} type=\"button\" onClick={loadMore}>\n            Load more\n        </button>\n    );\n};\nLoadButton.prototype = {\n    loadMore: PropTypes.func.isRequired,\n};\nexport default LoadButton;","import React, { Component } from 'react'\n\n\nimport Loader from \"react-loader-spinner\";\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.scss';\n\nexport default class App extends Component {\n    render() {\n        return (\n            <Loader\n                className={s.Loader}\n                type=\"Puff\"\n                color=\"#3f51b5\"\n                height={100}\n                width={100}\n            />\n        );\n    }\n}","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.scss'\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass ModalWindow extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    };\n    handleKeyDown = e => {\n        if (e.code === 'Escape') {\n            this.props.onCloseModal();\n        }\n    };\n    handleBackdropClick = event => {\n        if (event.currentTarget === event.target) {\n            this.props.onCloseModal();\n        }\n    };\n    render() {\n        return createPortal(\n            <div className={s.Overlay} onClick={this.handleBackdropClick}>\n                <div className={s.Modal}>\n                    <img src={this.props.largeImg} />\n                </div>\n            </div>,\n            modalRoot,\n        );\n    }\n}\nModalWindow.propTypes = {\n    largeImg: PropTypes.string.isRequired,\n};\nexport default ModalWindow;","import React, { Component } from \"react\";\n\nimport SearchBar from \"./SearchBar\";\nimport ImageGallery from './ImageGallery';\nimport fetchApi from './Servises';\nimport LoadButton from \"./LoadButtom/LoadButton\";\nimport Loader from \"./Loader\";\nimport ModalWindow from './ModalWindow';\n\nclass App extends Component {\n  state = {\n    img: [],\n    search: '',\n    page: 1,\n    isLoader: false,\n    error: null,\n    showButtonLoader: false,\n    showModal: false,\n    largeImg: '',\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.searchImages();\n    }\n  };\n\n  searchImages = () => {\n    const { search, page } = this.state;\n    const option = { page, search };\n    this.setState({ isLoader: true });\n    fetchApi.fetchImage(option)\n      .then(response => {\n        this.setState((prevState) => ({\n          img: [...prevState.img, ...response],\n          page: prevState.page + 1\n        }))\n        this.windowsScroll();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({\n          isLoader: false,\n          showButtonLoader: true\n        })\n      });\n\n  };\n  onSearchChange = (quary) => {\n    this.setState({\n      search: quary,\n      page: 1,\n      img: [],\n      error: null,\n    })\n  };\n  windowsScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n  toggleModal = async (e) => {\n    await this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n\n    if (this.state.showModal) {\n      const { src } = e.target.dataset;\n      this.setState({ largeImg: src });\n    }\n  };\n  render() {\n    const {\n      isLoader,\n      showButtonLoader,\n      error,\n      showModal,\n      largeImg } = this.state;\n    return (\n      <>\n        <SearchBar onSubmitForm={this.onSearchChange} />\n        {error && <h1>Image don't search</h1>}\n        <ImageGallery images={this.state.img} onOpenModal={this.toggleModal} />\n        {isLoader && <Loader />}\n        {showButtonLoader && <LoadButton loadMore={this.searchImages} />}\n        {showModal && <ModalWindow onCloseModal={this.toggleModal} largeImg={largeImg} />}\n      </>\n    )\n  };\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./Components/App\";\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__fm7yU\",\"SearchForm\":\"SearchBar_SearchForm__17EbJ\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1JtyG\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__pSmTZ\",\"SearchForm_input\":\"SearchBar_SearchForm_input__34JIe\"};"],"sourceRoot":""}