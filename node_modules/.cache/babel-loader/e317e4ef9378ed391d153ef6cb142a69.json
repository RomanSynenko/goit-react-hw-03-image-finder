{"ast":null,"code":"var _jsxFileName = \"/Users/synenkoroman/Documents/GitHub/goit-react-hw-03-image-finder/src/Components/App.js\";\nimport React, { Component } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport ImageGallery from './ImageGallery';\nimport fetchApi from './Servises';\nimport LoadButton from \"./LoadButtom/LoadButton\";\nimport Loader from \"./Loader\";\nimport ModalWindow from './ModalWindow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      img: [],\n      search: '',\n      page: 1,\n      isLoader: false,\n      error: null,\n      showButtonLoader: false,\n      showModal: false,\n      largeImg: ''\n    };\n\n    this.searchImages = () => {\n      const {\n        search,\n        page,\n        img\n      } = this.state;\n      const option = {\n        page,\n        search\n      };\n      this.setState({\n        isLoader: true\n      });\n      fetchApi.fetchImage(option).then(response => {\n        this.setState(prevState => ({\n          img: [...prevState.img, ...response],\n          page: prevState.page + 1\n        }));\n\n        if (img.length < 12) {\n          this.setState({\n            showBtn: false\n          });\n        }\n\n        this.windowsScroll();\n      }).catch(error => this.setState({\n        error\n      })).finally(() => {\n        this.setState({\n          isLoader: false,\n          showButtonLoader: true\n        });\n      });\n    };\n\n    this.onSearchChange = quary => {\n      this.setState({\n        search: quary,\n        page: 1,\n        img: [],\n        error: null\n      });\n    };\n\n    this.windowsScroll = () => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth'\n      });\n    };\n\n    this.toggleModal = async e => {\n      await this.setState(({\n        showModal\n      }) => ({\n        showModal: !showModal\n      }));\n\n      if (this.state.showModal) {\n        const {\n          src\n        } = e.target.dataset;\n        this.setState({\n          largeImg: src\n        });\n      }\n    };\n  }\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.searchImages();\n    }\n  }\n\n  render() {\n    const {\n      isLoader,\n      showButtonLoader,\n      error,\n      showModal,\n      largeImg\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSubmitForm: this.onSearchChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Image don't search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: this.state.img,\n        onOpenModal: this.toggleModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), isLoader && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }, this), showButtonLoader && /*#__PURE__*/_jsxDEV(LoadButton, {\n        loadMore: this.searchImages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 30\n      }, this), showModal && /*#__PURE__*/_jsxDEV(ModalWindow, {\n        onCloseModal: this.toggleModal,\n        largeImg: largeImg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["/Users/synenkoroman/Documents/GitHub/goit-react-hw-03-image-finder/src/Components/App.js"],"names":["React","Component","SearchBar","ImageGallery","fetchApi","LoadButton","Loader","ModalWindow","App","state","img","search","page","isLoader","error","showButtonLoader","showModal","largeImg","searchImages","option","setState","fetchImage","then","response","prevState","length","showBtn","windowsScroll","catch","finally","onSearchChange","quary","window","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","e","src","target","dataset","componentDidUpdate","_","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport SearchBar from \"./SearchBar\";\nimport ImageGallery from './ImageGallery';\nimport fetchApi from './Servises';\nimport LoadButton from \"./LoadButtom/LoadButton\";\nimport Loader from \"./Loader\";\nimport ModalWindow from './ModalWindow';\n\nclass App extends Component {\n  state = {\n    img: [],\n    search: '',\n    page: 1,\n    isLoader: false,\n    error: null,\n    showButtonLoader: false,\n    showModal: false,\n    largeImg: '',\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.searchImages();\n    }\n  };\n\n  searchImages = () => {\n    const { search, page, img } = this.state;\n    const option = { page, search };\n    this.setState({ isLoader: true });\n    fetchApi.fetchImage(option)\n      .then(response => {\n        this.setState((prevState) => ({\n          img: [...prevState.img, ...response],\n          page: prevState.page + 1\n        }))\n        if (img.length < 12) {\n          this.setState({ showBtn: false });\n        }\n        this.windowsScroll();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({\n          isLoader: false,\n          showButtonLoader: true\n        })\n      });\n\n  };\n  onSearchChange = (quary) => {\n    this.setState({\n      search: quary,\n      page: 1,\n      img: [],\n      error: null,\n    })\n  };\n  windowsScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  toggleModal = async (e) => {\n    await this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n\n    if (this.state.showModal) {\n      const { src } = e.target.dataset;\n      this.setState({ largeImg: src });\n    }\n  };\n  render() {\n    const {\n      isLoader,\n      showButtonLoader,\n      error,\n      showModal,\n      largeImg } = this.state;\n    return (\n      <>\n        <SearchBar onSubmitForm={this.onSearchChange} />\n        {error && <h1>Image don't search</h1>}\n        <ImageGallery images={this.state.img} onOpenModal={this.toggleModal} />\n        {isLoader && <Loader />}\n        {showButtonLoader && <LoadButton loadMore={this.searchImages} />}\n        {showModal && <ModalWindow onCloseModal={this.toggleModal} largeImg={largeImg} />}\n      </>\n    )\n  };\n};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}